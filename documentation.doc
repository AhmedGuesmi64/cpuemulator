Documentation – CP Emulator Project

Overview
- Browser-based emulator and assembler for the Small Example Processor (LD, ST, ADD, JMP/HALT), inspired by Prof. Widmann’s brief (see docs/Status Ahmed 2025-10-29-1.pdf).
- Modular JS: coreState (state + helpers), assemblerModule (assemble/disasm/load), executionModule (step/run/animate/restart/reset), uiModule (render + highlights), editorEnhance (CodeMirror), projectBundle (export/import), appBindings (wires globals), themeToggle (light/dark).
- UI pages: index.html (landing), emulator.html (main UI), Editor.html (legacy editor), shared styles in css/theme.css.

Key Features Implemented
- Memory views: unified von Neumann table (256 bytes) or legacy split view; toggleable.
- Instruction-aware highlighting: PC/current/prev/next, operand bytes, jump targets, LD/ST operand addresses, source vs dest registers.
- Editors: CodeMirror for ASM/HEX with line numbers, dark theme, autocomplete (Ctrl/Cmd+Space and auto on keypress).
- Execution controls: Step, Run, Animate, Restart (reset PC only), Reset All (clear mem/regs/trace), Stop.
- Trace: millisecond timestamps, toggle between ASM and HEX display.
- Samples: /tests (add_two, store_and_mix, loop_sum) wired to ASM/HEX loaders.
- Project I/O: export/import .cpuproj.json including asm, hex, mem, regs, flags, PC state.
- Theme: light/dark toggle (persists in localStorage).
- Top nav + dropdowns: Pages, Actions, theme toggle; subnav for quick emulator actions.

Recent UI Pass (this round)
- Added sticky top nav with brand “CP”, dropdowns, and theme toggle.
- Added subnav bar under the top nav for quick actions (Unified/Split, Restart, Reset, Export/Import).
- Improved light theme palette and dark CodeMirror alignment; smoother dropdown hover/focus behavior.
- Adjusted layout spacing to sit closer to the browser top and reduce boxy feel.

How to Run
- Open the project root in VS Code, use Live Server on emulator.html (or any static server).
- Use the theme toggle to switch light/dark; Actions dropdown or subnav for memory view, reset/restart, project I/O.

Manual Test Checklist
- Toggle Memory View (Unified/Split); load a sample and Step/Run/Animate; verify highlights and register colors.
- Editors: type ASM/HEX, use autocomplete, Assemble/Load, confirm trace updates with timestamps.
- Project export/import: export .cpuproj.json, clear UI, import, verify state restored.
- Dropdowns/subnav: hover stays open, buttons work in both themes.

Notes / Open Items
- Future polish: richer light theme tuning if desired, further layout tweaks, and optional return of a refined Editor page.


